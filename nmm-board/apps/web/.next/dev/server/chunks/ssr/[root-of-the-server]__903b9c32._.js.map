{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/antinori/LEE/Engineer/growth/nmm-board/apps/web/src/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:3001';\n\n// Axios 인스턴스 생성\nexport const api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// 요청 인터셉터: 토큰 자동 추가\napi.interceptors.request.use(\n  (config) => {\n    if (typeof window !== 'undefined') {\n      const token = localStorage.getItem('accessToken');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// 응답 인터셉터: 에러 핸들링\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401 && typeof window !== 'undefined') {\n      // 토큰 만료 시 로그아웃\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('username');\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,UAAU,6DAAmC;AAG5C,MAAM,MAAM,mMAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAEA,oBAAoB;AACpB,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC;;IAMA,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAGF,kBAAkB;AAClB,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,UACd,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE,WAAW,OAAO,kDAAkB;;IAMxD,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/antinori/LEE/Engineer/growth/nmm-board/apps/web/src/lib/auth.ts"],"sourcesContent":["import api from './api';\nimport type { AuthCredentials, AuthResponse, User } from '@nmm-board/shared';\n\nexport const authService = {\n  // 회원가입\n  async signup(credentials: AuthCredentials): Promise<User> {\n    const response = await api.post<User>('/auth/signup', credentials);\n    return response.data;\n  },\n\n  // 로그인\n  async signin(credentials: AuthCredentials): Promise<AuthResponse> {\n    const response = await api.post<AuthResponse>('/auth/signin', credentials);\n    const { accessToken } = response.data;\n    \n    // 토큰 저장\n    if (typeof window !== 'undefined') {\n      localStorage.setItem('accessToken', accessToken);\n      localStorage.setItem('username', credentials.username);\n    }\n    \n    return response.data;\n  },\n\n  // 로그아웃\n  logout(): void {\n    if (typeof window !== 'undefined') {\n      localStorage.removeItem('accessToken');\n      localStorage.removeItem('username');\n    }\n  },\n\n  // 로그인 상태 확인\n  isAuthenticated(): boolean {\n    if (typeof window === 'undefined') return false;\n    return !!localStorage.getItem('accessToken');\n  },\n\n  // 현재 사용자 이름 가져오기\n  getCurrentUsername(): string | null {\n    if (typeof window === 'undefined') return null;\n    return localStorage.getItem('username');\n  },\n};\n\nexport default authService;\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,cAAc;IACzB,OAAO;IACP,MAAM,QAAO,WAA4B;QACvC,MAAM,WAAW,MAAM,2IAAG,CAAC,IAAI,CAAO,gBAAgB;QACtD,OAAO,SAAS,IAAI;IACtB;IAEA,MAAM;IACN,MAAM,QAAO,WAA4B;QACvC,MAAM,WAAW,MAAM,2IAAG,CAAC,IAAI,CAAe,gBAAgB;QAC9D,MAAM,EAAE,WAAW,EAAE,GAAG,SAAS,IAAI;QAErC,QAAQ;QACR;;QAKA,OAAO,SAAS,IAAI;IACtB;IAEA,OAAO;IACP;QACE;;IAIF;IAEA,YAAY;IACZ;QACE,wCAAmC,OAAO;;;IAE5C;IAEA,iBAAiB;IACjB;QACE,wCAAmC,OAAO;;;IAE5C;AACF;uCAEe"}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///Users/antinori/LEE/Engineer/growth/nmm-board/apps/web/src/app/login/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { FiUser, FiLock } from 'react-icons/fi';\nimport authService from '@/lib/auth';\nimport type { AuthCredentials } from '@nmm-board/shared';\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [isLogin, setIsLogin] = useState(true);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    if (!username.trim() || !password.trim()) {\n      setError('사용자명과 비밀번호를 입력해주세요.');\n      return;\n    }\n\n    setIsLoading(true);\n\n    try {\n      const credentials: AuthCredentials = { username, password };\n\n      if (isLogin) {\n        await authService.signin(credentials);\n        router.push('/');\n      } else {\n        await authService.signup(credentials);\n        setError('');\n        setIsLogin(true);\n        setPassword('');\n        alert('회원가입이 완료되었습니다. 로그인해주세요.');\n      }\n    } catch (err: any) {\n      console.error('Auth error:', err);\n      console.error('Response data:', err.response?.data);\n      \n      let errorMessage = isLogin ? '로그인에 실패했습니다.' : '회원가입에 실패했습니다.';\n      \n      if (err.response?.data?.message) {\n        // 배열인 경우 (validation 에러)\n        if (Array.isArray(err.response.data.message)) {\n          errorMessage = err.response.data.message.join(' / ');\n        } else {\n          errorMessage = err.response.data.message;\n        }\n      } else if (err.message) {\n        errorMessage = err.message;\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4\">\n      <div className=\"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8\">\n        <div className=\"text-center mb-8\">\n          <h1 className=\"text-4xl font-bold text-gray-800 mb-2\">\n            Board App\n          </h1>\n          <p className=\"text-gray-600\">간단한 게시판 애플리케이션</p>\n        </div>\n\n        <div className=\"flex gap-2 mb-6\">\n          <button\n            onClick={() => {\n              setIsLogin(true);\n              setError('');\n            }}\n            className={`flex-1 py-2 rounded-lg font-medium transition ${\n              isLogin\n                ? 'bg-green-600 text-white'\n                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n            }`}\n          >\n            로그인\n          </button>\n          <button\n            onClick={() => {\n              setIsLogin(false);\n              setError('');\n            }}\n            className={`flex-1 py-2 rounded-lg font-medium transition ${\n              !isLogin\n                ? 'bg-green-600 text-white'\n                : 'bg-gray-100 text-gray-600 hover:bg-gray-200'\n            }`}\n          >\n            회원가입\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          {error && (\n            <div className=\"bg-red-50 text-red-600 px-4 py-3 rounded-lg text-sm\">\n              {error}\n            </div>\n          )}\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              사용자명\n            </label>\n            <div className=\"relative\">\n              <FiUser className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition\"\n                placeholder=\"사용자명을 입력하세요\"\n                disabled={isLoading}\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              비밀번호\n            </label>\n            <div className=\"relative\">\n              <FiLock className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" />\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition\"\n                placeholder=\"비밀번호를 입력하세요\"\n                disabled={isLoading}\n              />\n            </div>\n          </div>\n\n          <button\n            type=\"submit\"\n            className=\"w-full bg-gradient-to-r from-green-600 to-teal-600 text-white py-3 rounded-lg font-medium hover:opacity-90 transition disabled:opacity-50 shadow-lg\"\n            disabled={isLoading}\n          >\n            {isLoading\n              ? '처리 중...'\n              : isLogin\n              ? '로그인'\n              : '회원가입'}\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAQe,SAAS;IACtB,MAAM,SAAS,IAAA,iTAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,mXAAQ,EAAC;IACvC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mXAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,mXAAQ,EAAC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,mXAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,mXAAQ,EAAC;IAEnC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QAET,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,SAAS,IAAI,IAAI;YACxC,SAAS;YACT;QACF;QAEA,aAAa;QAEb,IAAI;YACF,MAAM,cAA+B;gBAAE;gBAAU;YAAS;YAE1D,IAAI,SAAS;gBACX,MAAM,4IAAW,CAAC,MAAM,CAAC;gBACzB,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,MAAM,4IAAW,CAAC,MAAM,CAAC;gBACzB,SAAS;gBACT,WAAW;gBACX,YAAY;gBACZ,MAAM;YACR;QACF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,eAAe;YAC7B,QAAQ,KAAK,CAAC,kBAAkB,IAAI,QAAQ,EAAE;YAE9C,IAAI,eAAe,UAAU,iBAAiB;YAE9C,IAAI,IAAI,QAAQ,EAAE,MAAM,SAAS;gBAC/B,yBAAyB;gBACzB,IAAI,MAAM,OAAO,CAAC,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,GAAG;oBAC5C,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;gBAChD,OAAO;oBACL,eAAe,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO;gBAC1C;YACF,OAAO,IAAI,IAAI,OAAO,EAAE;gBACtB,eAAe,IAAI,OAAO;YAC5B;YAEA,SAAS;QACX,SAAU;YACR,aAAa;QACf;IACF;IAEA,qBACE,gZAAC;QAAI,WAAU;kBACb,cAAA,gZAAC;YAAI,WAAU;;8BACb,gZAAC;oBAAI,WAAU;;sCACb,gZAAC;4BAAG,WAAU;sCAAwC;;;;;;sCAGtD,gZAAC;4BAAE,WAAU;sCAAgB;;;;;;;;;;;;8BAG/B,gZAAC;oBAAI,WAAU;;sCACb,gZAAC;4BACC,SAAS;gCACP,WAAW;gCACX,SAAS;4BACX;4BACA,WAAW,CAAC,8CAA8C,EACxD,UACI,4BACA,+CACJ;sCACH;;;;;;sCAGD,gZAAC;4BACC,SAAS;gCACP,WAAW;gCACX,SAAS;4BACX;4BACA,WAAW,CAAC,8CAA8C,EACxD,CAAC,UACG,4BACA,+CACJ;sCACH;;;;;;;;;;;;8BAKH,gZAAC;oBAAK,UAAU;oBAAc,WAAU;;wBACrC,uBACC,gZAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,gZAAC;;8CACC,gZAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,gZAAC;oCAAI,WAAU;;sDACb,gZAAC,yOAAM;4CAAC,WAAU;;;;;;sDAClB,gZAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;4CACZ,UAAU;;;;;;;;;;;;;;;;;;sCAKhB,gZAAC;;8CACC,gZAAC;oCAAM,WAAU;8CAA+C;;;;;;8CAGhE,gZAAC;oCAAI,WAAU;;sDACb,gZAAC,yOAAM;4CAAC,WAAU;;;;;;sDAClB,gZAAC;4CACC,MAAK;4CACL,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;4CACV,aAAY;4CACZ,UAAU;;;;;;;;;;;;;;;;;;sCAKhB,gZAAC;4BACC,MAAK;4BACL,WAAU;4BACV,UAAU;sCAET,YACG,YACA,UACA,QACA;;;;;;;;;;;;;;;;;;;;;;;AAMhB"}}]
}